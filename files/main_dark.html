<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Web-server</title>
  <link rel="stylesheet" href="style.css.gz" />
  <link rel="stylesheet" href="nodemcu-css.css" />
  <style>
    .cont-flu {
      margin-top: 1em;
    }

    body {
      background: #242527;
      font-weight: 550;
    }

    i {
      color: aliceblue;
      font-size: 1em;
      top: -25px;
    }

    input[type=range] {
      background-color: aliceblue;
    }
    span{
      color: aliceblue;
    }
  </style>
</head>

<body>
  <div class="cont-flu">
    <div class="row">
      <div class="xs-10 xs-of-1">
        <div><span style="position: relative; top: 10px; left:10px; color: aliceblue">VOLUME</span>
          <input style="margin-top: 15px" type="range" min="0" max="63" id="volume" onchange="save(this.id,this.value)" value="<?lua return(s.volume)?>" />
        </div>
      </div>
    </div>
    <div class="row">
      <div class="xs-5 xs-of-1">
        <div class="row" style="margin-top: 10px">
          <div class="xs-6">
            <div class="group">
              <input <?lua return(s.power=="ON" and 'checked'or '')?> onchange="save(this.name,this.value)" type="radio" name="power" value="ON" id="power_on">
              <label for="power_on">ON</label>
              <input <?lua return(s.power=="OFF" and 'checked'or '')?> onchange="save(this.name,this.value)" type="radio" name="power" value="OFF" id="power_off">
              <label for="power_off">OFF</label><i>POWER</i>
            </div>
          </div>
          <div class="xs-6">
            <div class="group">
              <input <?lua return(s.mute=="ON" and 'checked'or '')?> onchange="save(this.name,this.value)" type="radio" name="mute" value="ON" id="mute_on">
              <label for="mute_on">ON</label>
              <input <?lua return(s.mute=="OFF" and 'checked'or '')?> onchange="save(this.name,this.value)" type="radio" name="mute" value="OFF" id="mute_off">
              <label for="mute_off">OFF</label><i>MUTE</i>
            </div>
          </div>
        </div>
        <div class="row" style="margin-top: 30px">
          <div class="xs-12">
            <div class="group three" style="margin-top: 30px">
              <input <?lua return(s.input==1 and 'checked'or '')?> onchange="save(this.name,this.value)" type="radio" name="input" value="1" id="input_1">
              <label for="input_1">1</label>
              <input <?lua return(s.input==2 and 'checked'or '')?> onchange="save(this.name,this.value)" type="radio" name="input" value="2" id="input_2">
              <label for="input_2">2</label>
              <input <?lua return(s.input==3 and 'checked'or '')?> onchange="save(this.name,this.value)" type="radio" name="input" value="3" id="input_3">
              <label for="input_3">3</label><i>INPUT</i>
            </div>
          </div>
        </div>
      </div>
      <div class="xs-5 xs-of-1">
        &nbsp;
        <div class="ver">
          <span style="position: relative; top: 5px; left: -10px">Bass</span>
          <input id="bass" type="range" min="0" max="15" onchange="save(this.id,this.value)" value="<?lua return(s.bass)?>" />
        </div>
        <div class="ver">
          <span style="left: -15px;">Treble</span>
          <input id="treble" type="range" min="0" max="15" onchange="save(this.id,this.value)" value="<?lua return(s.treble)?>" />
        </div>

        <div class="ver">
          <span>LF</span>
          <input id="lf" type="range" min="0" max="31" onchange="save(this.id,this.value)" value="<?lua return(s.lf)?>" />
        </div>
        <div class="ver">
          <span>RF</span>
          <input id="rf" type="range" min="0" max="31" onchange="save(this.id,this.value)" value="<?lua return(s.rf)?>" />
        </div>

        <div class="ver">
          <span>LR</span>
          <input id="lr" type="range" min="0" max="31" onchange="save(this.id,this.value)" value="<?lua return(s.lr)?>" />
        </div>
        <div class="ver">
          <span>RR</span>
          <input id="rr" type="range" min="0" max="31" onchange="save(this.id,this.value)" value="<?lua return(s.rr)?>" />
        </div>
      </div>

    </div>

  </div>
  <script>
    function logout() {
      document.cookie = "id=";
      location.href = '/login.html';
    }

    function send(page, data, callback) {
      var req = new XMLHttpRequest();
      req.open("POST", page, true);
      req.setRequestHeader('Content-Type', 'application/json');
      req.addEventListener("load", function() {
        if (req.status < 400) {
          callback(req.responseText);
        } else {
          callback(req.status);
        }
      });
      req.send(JSON.stringify(data));
    }

    function save(name, val) {
      send("control.lua", {mode:name,value:val}, function(res) {
      });
    }

      function nav() {
        var x = document.getElementById("myTopnav");
        if (x.classList.contains("res")) {
          x.classList.remove('res');
        } else {
          x.classList.add('res');
        }
      }
      localStorage["Ключ"]
  </script>
</body>

</html>
